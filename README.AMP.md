# Quartermaster - AMP Deployment

This branch is specifically configured for deployment via **CubeCoders AMP (Application Management Panel)**.

## üöÄ Quick Deploy with AMP

### Method 1: Via AMP Web Interface

1. Log into your AMP instance
2. Go to **Instances** ‚Üí **Create New Instance**
3. Select **Generic** application type
4. In the **Git Repository** field, enter:
   ```
   https://github.com/barrersoftware/quartermaster
   ```
5. In the **Branch** field, enter:
   ```
   amp
   ```
6. Click **Create Instance**
7. Configure the bot settings in AMP's configuration panel
8. Start the instance

### Method 2: Via AMP CLI

```bash
ampinstmgr CreateInstance Generic Quartermaster "https://github.com/barrersoftware/quartermaster" amp
```

## ‚öôÔ∏è Configuration

After creating the instance in AMP:

1. **Discord Bot Token**
   - Get from: https://discord.com/developers/applications
   - Navigate to your app ‚Üí Bot ‚Üí Token
   - Paste into AMP's "Discord Bot Token" setting

2. **Discord OAuth2 Settings** (for web dashboard)
   - Client ID: From Discord app ‚Üí OAuth2 ‚Üí Client ID
   - Client Secret: From Discord app ‚Üí OAuth2 ‚Üí Client Secret
   - Redirect URI: Add to Discord app: `https://your-amp-domain.com:4050/callback`

3. **Dashboard URL**
   - Set to your AMP instance's public URL with port 4050
   - Example: `https://amp.yourdomain.com:4050`

4. **Port Configuration**
   - AMP will automatically manage port 4050 for the web dashboard
   - You can change this in AMP's port settings if needed

## üîß AMP-Specific Features

- **Auto-Updates**: AMP will automatically pull updates from GitHub
- **Resource Monitoring**: CPU/RAM usage tracked by AMP
- **Console Access**: View bot logs in real-time through AMP
- **Scheduled Tasks**: Use AMP's scheduler for bot restarts
- **Backup Management**: AMP handles database backups automatically

## üìä Database Location

Quartermaster's SQLite database is stored at:
```
{AMP_INSTANCE_DIR}/bot.db
```

AMP automatically backs this up with your instance backups.

## üîÑ Updates

To update Quartermaster through AMP:

1. Go to instance settings
2. Click **Update** or **Reinstall**
3. AMP will pull latest changes from the `amp` branch
4. Restart the instance

Or enable auto-updates in AMP settings.

## üÜò Troubleshooting

### Bot won't start
- Check Discord token is correct in AMP settings
- Verify Node.js is installed (`node --version` should show 18+)
- Check AMP console for error messages

### Web dashboard not accessible
- Verify port 4050 is open in firewall
- Check CALLBACK_URL and DASHBOARD_URL match your domain
- Ensure OAuth2 redirect URI is added in Discord app settings

### Database errors
- Stop instance
- Backup `bot.db`
- Restart instance (AMP will recreate if needed)

## üìù Environment Variables

All settings are configured through AMP's UI, which generates the `.env` file:

- `DISCORD_TOKEN` - Your bot token
- `PREFIX` - Command prefix (default: !)
- `CLIENT_ID` - Discord OAuth2 client ID
- `CLIENT_SECRET` - Discord OAuth2 client secret
- `CALLBACK_URL` - OAuth2 callback URL
- `DASHBOARD_URL` - Public dashboard URL
- `PORT` - Web dashboard port (default: 4050)
- `SESSION_SECRET` - Auto-generated by AMP

## üè¥‚Äç‚ò†Ô∏è License

This software is **FREE** under the BarrerSoftware License (BSL).
- Cannot be sold
- Must remain free forever
- See [LICENSE](LICENSE) for details

## üîó Links

- Main Repository: https://github.com/barrersoftware/quartermaster
- AMP Panel: https://cubecoders.com/AMP
- Documentation: See main branch README.md
- Support: GitHub Issues

---

**Deployed via AMP ‚Ä¢ Free Forever ‚Ä¢ Built by BarrerSoftware**
